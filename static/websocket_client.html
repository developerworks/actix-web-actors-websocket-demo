<!DOCTYPE html>
<html>

<head>
    <title>WebSocket 测试客户端</title>
    <script>
        window.onload = function () {
            // 创建一个 WebSocket 连接
            var socket = new WebSocket("ws://localhost:8080/ws/");

            // 当 WebSocket 连接打开时，发送一条登录消息
            socket.onopen = function (event) {
                var loginMessage = {
                    type: "login",
                    data: {
                        username: "Alice",
                        password: "secret"
                    }
                };
                socket.send(JSON.stringify(loginMessage));
            };

            // 当收到 WebSocket 消息时，打印消息内容
            socket.onmessage = function (event) {
                console.log("Received: " + event.data);
            };

            // 当 WebSocket 连接关闭时，打印一条消息
            socket.onclose = function (event) {
                console.log("Connection closed");
            };
        };
    </script>
</head>

<body>
    <h1>WebSocket 测试客户端</h1>
</body>

</html>